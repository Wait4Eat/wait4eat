<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>결제 테스트</title>
    <script src="https://js.tosspayments.com/v1/payment"></script>
</head>
<body>
<h1>결제 테스트 페이지</h1>
<button id="payBtn">결제하기</button>

<script>
    document.getElementById("payBtn").addEventListener("click", function () {
        const toss = TossPayments("test_ck_KNbdOvk5rkOdPmx5Mk72rn07xlzm");

        const orderId = "WAIT-20250403-12345676890";
        const couponId = "COUPON-12345";

        const originalAmount = 3000;
        const discountAmount = 500;
        const amount = Math.max(originalAmount - discountAmount, 0);

        toss.requestPayment("카드", {
            amount: amount,
            orderName: "동대문 엽기떡볶이 웨이팅 예약금",
            orderId: orderId,
            customerKey: "user-1",
            successUrl: "http://localhost:8080/api/v1/payments/success",
            failUrl: "http://localhost:8080/api/v1/payments/fail",
        });
    });
</script>
</body>
</html>